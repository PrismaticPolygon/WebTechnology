{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}

    <table class="table table-hover" style="width:100%; border-collapse: collapse">

        <tr>

            <td width="256px"><img src="{{ user.avatar(256) }}"></td>

            <td>

                <h1>{{ user.username }}</h1>

                    {% if user.about_me %}

                        <p>{{ user.about_me }}</p>

                    {% endif %}

                    {% if user.last_seen %}

                        <p>{{ _('Last seen on') }}: {{ moment(user.last_seen).format('LLL') }}</p>

                    {% endif %}

            </td>

        </tr>

    </table>

    <div class="row">

        <div class="col-md-6">

            <h2> Rate a book</h2>

            {{ wtf.quick_form(form) }}

        </div>

    </div>

    <h2> Recommendations </h2>

    <table class="table">

        <tr>

            <th> ID </th>

            <th>Title</th>

            <th>Predicted rating</th>

            <th>Genres</th>

        </tr>

        {% for recommendation in recommendations %}

            <tr>

                <td>

                    {{ recommendation.book_id }}

                </td>

                <td>
                    {{ recommendation.title }}
                </td>

                 <td>

                    {{ recommendation.value }}

                </td>

                <td>

                    {{ recommendation.genres }}

                </td>

            </tr>

        {% endfor %}

    </table>


    <h2> Ratings </h2>

    <table class="table">

        <tr>

            <th> ID </th>

            <th>Title</th>

            <th>Rating</th>

            <th>Genres</th>

        </tr>

        {% for rating in ratings %}

            <tr>

                <td>

                    {{ rating.book_id }}

                </td>

                <td>
                    {{ rating.title }}
                </td>

                <td>

                    {{ rating.value }}

                </td>

                <td>

                    {{ rating.genres }}

                </td>

            </tr>

        {% endfor %}

    </table>

{% endblock %}
